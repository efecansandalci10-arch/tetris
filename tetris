<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ğŸ’– Heart Tetris ğŸ’–</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  background:linear-gradient(180deg,#1a0015,#000);
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  height:100vh;
  font-family:Arial, sans-serif;
  color:white;
  overflow:hidden;
}

h1{
  margin-bottom:10px;
  color:#ff4e8a;
  text-shadow:0 0 15px #ff2e88;
}

canvas{
  background:#111;
  box-shadow:0 0 25px #ff2e88;
}

.controls{
  margin-top:15px;
  display:flex;
  gap:15px;
}

button{
  padding:15px 20px;
  font-size:20px;
  border:none;
  border-radius:50px;
  background:linear-gradient(45deg,#ff2e88,#ff4e8a);
  color:white;
}
</style>
</head>
<body>

<h1>ğŸ’– Heart Tetris ğŸ’–</h1>
<canvas id="game" width="300" height="600"></canvas>

<div class="controls">
  <button onclick="move(-1)">â¬…ï¸</button>
  <button onclick="rotate()">ğŸ”„</button>
  <button onclick="move(1)">â¡ï¸</button>
  <button onclick="drop()">â¬‡ï¸</button>
</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

const ROWS = 20;
const COLS = 10;
const SIZE = 30;

let board = Array.from({length:ROWS},()=>Array(COLS).fill(0));

const heart = [
  [1,1,0],
  [1,1,1]
];

let piece = {
  shape: heart,
  x: 4,
  y: 0
};

function drawCell(x,y){
  ctx.fillStyle="#ff4e8a";
  ctx.shadowColor="#ff2e88";
  ctx.shadowBlur=10;
  ctx.fillText("ğŸ’–",x*SIZE+SIZE/2,y*SIZE+SIZE/1.3);
}

function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.font="20px Arial";
  ctx.textAlign="center";

  for(let r=0;r<ROWS;r++){
    for(let c=0;c<COLS;c++){
      if(board[r][c]) drawCell(c,r);
    }
  }

  piece.shape.forEach((row,r)=>{
    row.forEach((val,c)=>{
      if(val) drawCell(piece.x+c,piece.y+r);
    });
  });
}

function collide(){
  for(let r=0;r<piece.shape.length;r++){
    for(let c=0;c<piece.shape[r].length;c++){
      if(piece.shape[r][c]){
        let newX = piece.x + c;
        let newY = piece.y + r;
        if(newX<0||newX>=COLS||newY>=ROWS||board[newY][newX]){
          return true;
        }
      }
    }
  }
  return false;
}

function merge(){
  piece.shape.forEach((row,r)=>{
    row.forEach((val,c)=>{
      if(val){
        board[piece.y+r][piece.x+c]=1;
      }
    });
  });
}

function clearLines(){
  board = board.filter(row=>row.some(cell=>!cell));
  while(board.length<ROWS){
    board.unshift(Array(COLS).fill(0));
  }
}

function newPiece(){
  piece={
    shape: heart,
    x:4,
    y:0
  };
}

function move(dir){
  piece.x+=dir;
  if(collide()) piece.x-=dir;
  draw();
}

function rotate(){
  piece.shape = piece.shape[0].map((_,i)=>
    piece.shape.map(row=>row[i]).reverse()
  );
  if(collide()) rotate();
  draw();
}

function drop(){
  piece.y++;
  if(collide()){
    piece.y--;
    merge();
    clearLines();
    newPiece();
  }
  draw();
}

function update(){
  drop();
}

setInterval(update,700);
draw();
</script>

</body>
</html>
